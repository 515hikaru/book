---
sidebar_label: 型のメンタルモデル
---

# 型のメンタルモデル

## 型システムの背景理論

プログラミング言語の型システムにはそれぞれ固有の世界観があり、言語ごとにできること (型の機能) が異なります。

その一方で、共有している機能もあるわけで、それらのさまざまな型の機能は唐突にどこからともなく出現してきたわけではありません。背景として大きくは**型理論** (Type theory) と呼ばれる研究分野があり、各言語の型システムは型理論に基づいて実装されています。

たとえば、TypeScript の `unkown` 型や `never` 型のような一見何のためにある型かわからないようなものであっても、型理論においてはその役割や機能を一般的に説明することができます。これらの型は Top 型や Bottom 型と呼ばれる型の種類に分類され、部分型関係の端点に位置する型として振る舞います。

さらに型理論的な観点からの一般知識を持つことで似たような型システムを持つ他の言語においても型の機能について自然に推論することが可能になります。たとえば Scala という言語では `Any` 型と `Nothing` 型が `unknown` 型と `never` 型と同じ働きをすることが推論できます。一般化された型についての知識を使えるため、プログラミング言語をスイッチするような場合においてもスムーズに機能の類推や学習を行うことができるようになります。

ただし、型理論は非常に奥深く難解でもあるため、一般にはとっつきにくい分野です。その一方で、比較的簡単に理解できて実用的にも役立つ概念も非常に多くあります。このドキュメントではそういった知識から TypeScript の型の世界観、いわば**メンタルモデル**を構築するための知識を紹介します。

## 集合論的なデザイン

一般に型(type)は集合(set)は異なる概念ですが、型理論と集合論には密接な関連があります。

特に TypeScript においては、型を集合論的に扱えるようなデザインが意図的になされており、型を「**値の集合**」として捉えることで直感的に型を理解することができるようになっています。この見方は決して偏ったものではなく、[公式ドキュメントでも推奨されている](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-oop.html#types-as-sets)型の考え方です。

本章では、このような集合論的な見方に立って型を考えることで、型の振る舞いについての自然な推論を行えるようなメンタルモデルを構築します。

型理論は非常に奥深く難解でもあるため、とっつきにくい分野に思えますが、比較的簡単に理解できて実用的にも役立つ概念も非常に多くあります。このドキュメントではそういった知識から TypeScript の型の世界観、いわばメンタルモデルを構築するための知識を紹介します。

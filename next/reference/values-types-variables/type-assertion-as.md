# 🚧型アサーション「as」\(type assertion\)

TypeScriptには、型推論を上書きする機能があります。その機能を型アサーション\(type assertion\)と言います。

TypeScriptコンパイラーはコードをヒントに型を推論してくれます。その型推論は非常に知的ですが、場合によってはコンパイラーよりもプログラマーがより正確な型を知っている場合があります。そのような場合は、型アサーションを用いるとコンパイラーに型を伝えることができます。型アサーションはコンパイラに「私を信じて！私のほうが型に詳しいから」と伝えるようなものです。

## 型アサーションの書き方

型アサーションの書き方は2つあります。1つはas構文です。

```typescript
const value: unknown = "this is a string";
const length: number = (value as string).length;
```

もう1つはアングルブランケット構文\(angle-bracket syntax\)です。

```typescript
const value: unknown = "this is a string";
const length: number = (<string>value).length;
```

どちらを用いるかは好みですが、as構文が用いられることのほうが多いです。

## コンパイルエラーになる型アサーション

TODO: 型アサーションは無制限にできるわけではないことを説明する。

## 型アサーションとキャストの違い

型アサーションは、他の言語のキャストに似ています。キャストとは、実行時にある値の型を別の型に変換することです。型アサーションは、実行時に影響しません。値の型変換はしないのです。あくまでコンパイル時にコンパイラーに型を伝えるだけです。コンパイラーはその情報を手がかりに、コードをチェックします。型アノテーションはキャストではないため、TypeScriptでは型アノテーションをキャストとは呼ばないことになっています。実行時に型変換をするには、そのためのロジックを書く必要があります。

## 型アサーションは危険？

## 型アサーションと型アノテーションの違い

TODO: 型アサーションと型アノテーション\(本書では型注釈としている\)は名前が似ているためか、しばしば混同されることが見受けられるので、念の為異なる機能であることを強調する。

